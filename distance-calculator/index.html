
<html>
<head>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBUAQEIgzYzhqtHx3L2eX8DHjV_svQbLEU"></script>
<script type="text/javascript">
var directionDisplay;
var map;
var directionsService = new google.maps.DirectionsService();
	function initialize() {






			directionsDisplay = new google.maps.DirectionsRenderer();
			var melbourne = new google.maps.LatLng(-37.813187, 144.96298);
			var myOptions = {
				zoom:12,
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				center: melbourne
			}

			map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
			directionsDisplay.setMap(map);
		}







function initial2(){

if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position){
    var lat = position.coords.latitude;
    var longt = position.coords.longitude;


		directionsDisplay = new google.maps.DirectionsRenderer();
			var melbourne = new google.maps.LatLng(lat,longt);
			var myOptions = {
				zoom:12,
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				center: melbourne
			}

			map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
			directionsDisplay.setMap(map);




    }, function(){ });
} else {
    alert('It seems like Geolocation, which is required for this page, is not enabled in your browser. Please use a browser which supports it.');
}



}









function getDistance(){
var from= document.querySelector('#from').value;	
var to= document.querySelector('#to').value;	

document.querySelector('#distance').value="";

var request = {
  origin      : from, // a city, full address, landmark etc
  destination : to,
  travelMode  : google.maps.DirectionsTravelMode.DRIVING
};

directionsService.route(request, function(response, status) {
  if ( status == google.maps.DirectionsStatus.OK ) {
    directionsDisplay.setDirections(response);


    var distance_meters=parseFloat(response.routes[0].legs[0].distance.value); // the distance in metres
   var distance_km=distance_meters*0.001;
document.querySelector('#distance').value=round(distance_km,2)+" km";	
 
  }
  else {
 document.querySelector('#distance').value="oops, there's no route between these two locations";	 
    // oops, there's no route between these two locations
    // every time this happens, a kitten dies
    // so please, ensure your address is formatted properly
  }
});









}


function round(value, decimals) {
  return Number(Math.round(value+'e'+decimals)+'e-'+decimals);
}
</script>
	<style type="text/css">
			#map_canvas { 
				height: 200px;
			}
		</style>

</head>
<body onload="initial2()"> 





<div style='height:70px; position:absolute; left:0; top:0; background:#000; width:100%; z-index:1000;'>
<center>
<h2 style='color:#fff;'>Driving Distance Calculator</h2>
</center>
</div>
<div class='container' style='padding-top:100px;'>

<div class='row'>
<div class='col-sm-12'>
<label>From</label>
<input class='form-control' placeholder='Location' type='text' id='from'>
</div>
</div>

<div class='row'>
<div class='col-sm-12'>
<label>TO</label>
<input class='form-control' type='text' placeholder='Location' id='to'>
</div>
</div>

<div>
<button onclick='getDistance()' class='btn btn-defauld'>Compute Distance</button>
</div>

<div class='row'>
<div class='col-sm-12'>
<label>Distance</label>
<input type='text' id='distance' class='form-control' disabled>

</div>

</div>

<div style='padding:2%;'>
<div id="map_canvas"></div>
</div>


</div>






</body>
</html>

